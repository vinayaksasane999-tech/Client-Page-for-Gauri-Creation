<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Wishlist • Gauri Creations</title>
 <!-- Favicon -->
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="apple-touch-icon" href="favicon.ico"> 

<style>
  :root{
    --bg-grad: linear-gradient(135deg,#e3f2ff,#ffe5f3);
    --glass: rgba(255,255,255,0.9);
    --glass-border: rgba(148,163,184,0.6);
    --accent-grad: linear-gradient(135deg,#2563eb,#ec4899);
  }

  *{ box-sizing:border-box }

  body{
    margin:0;
    min-height:100vh;
    font-family:Poppins,system-ui;
    background:var(--bg-grad);
    padding:20px;
    display:flex;
    justify-content:center;
  }

  .shell{
    width:100%;
    max-width:1150px;
  }

  h2{
    font-size:24px;
    font-weight:800;
    margin-bottom:6px;
  }

  .sub{
    font-size:13px;
    color:#555;
    margin-bottom:18px;
  }

  .grid{
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(180px,1fr));
    gap:16px;
  }

  .card{
    background:var(--glass);
    border-radius:18px;
    border:1px solid var(--glass-border);
    box-shadow:0 12px 30px rgba(15,23,42,0.15);
    padding:10px;
    display:flex;
    flex-direction:column;
    gap:8px;
  }

  .img-wrap{
    position:relative;
    border-radius:12px;
    overflow:hidden;
    height:150px;
    background:#fff;
    display:flex;
    align-items:center;
    justify-content:center;
  }

  .img-wrap img{
    width:100%;
    height:100%;
    object-fit:cover;
  }

  .heart{
    position:absolute;
    top:8px;
    right:8px;
    font-size:18px;
    cursor:pointer;
  }

  .name{
    font-size:14px;
    font-weight:600;
  }

  .price{
    font-weight:700;
    color:#c62828;
    font-size:14px;
  }

  .actions{
    display:flex;
    gap:6px;
    margin-top:6px;
  }

  .btn{
    flex:1;
    padding:8px;
    border-radius:999px;
    font-size:12px;
    cursor:pointer;
    border:none;
    font-weight:600;
  }

  .btn-primary{
    background:var(--accent-grad);
    color:#fff;
  }

  .btn-outline{
    background:#fff;
    border:1px solid #ccc;
  }

  .empty{
    text-align:center;
    padding:60px 20px;
    color:#555;
  }
</style>
</head>

<body>

<div class="shell">
  <h2>❤️ My Wishlist</h2>
  <div class="sub">Your favourite products, saved for later</div>

  <div id="grid" class="grid"></div>

  <div id="emptyState" class="empty" style="display:none">
    Your wishlist is empty.<br>
    Browse products and tap ❤️ to save your favourites.
  </div>
</div>

<script>
const SCRIPT_URL =
"https://script.google.com/macros/s/AKfycbxDY1Fu_20z8Afp642T87oLAtZ810bHnSzSlHfe62CIPUj_P1ysnLcMlR22Am-Hj8gG/exec";

function getWishlist(){
  return JSON.parse(localStorage.getItem("gc_wishlist") || "[]");
}

function saveWishlist(list){
  localStorage.setItem("gc_wishlist", JSON.stringify(list));
}

function removeFromWishlist(sku){
  const list = getWishlist().filter(s => s !== sku);
  saveWishlist(list);
  renderWishlist();
}

async function renderWishlist(){
  const grid = document.getElementById("grid");
  const empty = document.getElementById("emptyState");
  const list = getWishlist();

  grid.innerHTML = "";

  if(list.length === 0){
    empty.style.display = "block";
    return;
  }

  empty.style.display = "none";

  for(const sku of list){
    try{
      const res = await fetch(
        SCRIPT_URL + "?action=getProduct&sku=" + encodeURIComponent(sku)
      );
      const data = await res.json();
      if(!data.success || !data.product) continue;

      const p = data.product;

      const card = document.createElement("div");
      card.className = "card";

      card.innerHTML = `
        <div class="img-wrap">
          <img src="${p["Image URL 1"]}">
          <div class="heart" onclick="removeFromWishlist('${p.SKU}')">❤️</div>
        </div>

        <div class="name">${p.Name}</div>
        <div class="price">₹${p.Price}</div>

        <div class="actions">
          <button class="btn btn-outline"
            onclick="location.href='product.html?sku=${encodeURIComponent(p.SKU)}'">
            Know More
          </button>

          <button class="btn btn-primary"
            onclick="location.href='order.html?sku=${encodeURIComponent(p.SKU)}'">
            Buy Now
          </button>
        </div>
      `;

      grid.appendChild(card);

    }catch(e){
      console.error(e);
    }
  }
}

renderWishlist();
</script>

</body>
</html>


