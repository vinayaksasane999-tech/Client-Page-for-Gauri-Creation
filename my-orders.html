<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>My Orders</title>
<style>
body{
  margin:0;
  padding:20px;
  font-family:Poppins;
  background:linear-gradient(135deg,#e3f2ff,#ffe5f3);
}
.card{
  background:#fff;
  padding:14px;
  border-radius:16px;
  margin-bottom:12px;
}
</style>
</head>
<body>

<h2>My Orders</h2>
<div id="orders"></div>

<script>
const SCRIPT_URL="https://script.google.com/macros/s/AKfycbyNznWMbvHaiu7PjF-Kz5i35E1cNq5FobRnjJ2pAWcmhCL42R8f7A_WXxQUkQebdDE/exec";

/* ✅ SAME KEY */
const customer = JSON.parse(localStorage.getItem("gc_customer")||"null");
if(!customer){
  window.location.href="login.html";
}

fetch(SCRIPT_URL+"?action=listOrders")
.then(r=>r.json())
.then(d=>{
  const box=document.getElementById("orders");
  d.orders
    .filter(o=>o["Customer ID"]===customer.id)
    .forEach(o=>{
      box.innerHTML+=`
        <div class="card">
          <strong>${o["Order ID"]}</strong><br>
          ${o["Product Name"]}<br>
          ₹${o["Total"]}
        </div>`;
    });
});
</script>
</body>
</html>
